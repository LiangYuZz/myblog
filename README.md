# Hugo Blog Manager

一个功能强大的 Hugo 博客可视化管理工具，支持文章编辑、预览、配置管理和静态文件管理。

## 功能特性

### 📝 文章管理
- **文章列表**：显示所有博客文章，支持快速选择和编辑
- **新建文章**：通过对话框创建新文章，自动生成 front matter
- **文章编辑**：
  - 支持标题、标签、分类、草稿状态等元数据编辑
  - Markdown 编辑器，支持语法高亮
  - 工具栏快捷按钮：粗体、斜体、标题、链接、代码等
- **内置预览**：
  - 实时 Markdown 预览，支持格式化显示
  - 支持标题、粗体、斜体、代码、链接、引用等格式
  - 点击预览按钮自动切换到预览标签页

### ⚙️ 配置管理
- **Hugo 配置**：编辑 hugo.toml 配置文件
- **菜单设置**：管理网站菜单结构
- **主题配置**：配置主题相关设置

### 📁 静态文件管理
- **文件上传**：支持图片、CSS、JS 等静态文件上传
- **文件夹管理**：创建和管理静态文件夹结构
- **文件树视图**：直观显示文件结构和信息

### 🎨 主题管理
- **模板编辑**：编辑 Hugo 模板文件
- **布局管理**：管理自定义布局文件
- **主题文件**：浏览和编辑主题相关文件

### 🚀 部署功能
- **一键上传**：执行 `updateblog.bat` 脚本
- **自动构建**：运行 `hugo` 命令生成静态文件
- **Git 推送**：自动提交并推送到远程仓库

## 安装和使用

### 环境要求
- Python 3.7+
- tkinter (通常随 Python 安装)

### 安装依赖
```bash
pip install markdown pyyaml toml
```

### 启动应用
```bash
python hugo_manager.py
```

或者使用批处理文件：
```bash
run_hugo_manager.bat
```

## 使用说明

### 1. 文章管理模式
- 选择"文章"模式
- 在左侧列表中选择要编辑的文章
- 在右侧编辑器中修改内容
- 使用工具栏快捷按钮添加 Markdown 格式
- 点击"预览"按钮查看格式化效果
- 点击"保存"保存修改

### 2. 配置管理模式
- 选择"配置"模式
- 编辑 hugo.toml 配置文件
- 修改网站标题、URL、主题等设置
- 保存配置文件

### 3. 静态文件管理模式
- 选择"静态文件"模式
- 点击"上传文件"添加图片或其他静态资源
- 使用文件树查看和管理文件结构

### 4. 主题管理模式
- 选择"主题"模式
- 编辑模板文件和布局
- 自定义网站外观

### 5. 部署博客
- 点击"构建并上传博客"按钮
- 系统会自动执行以下步骤：
  1. 运行 `hugo` 命令生成静态文件
  2. 使用 `git add .` 添加所有文件
  3. 提交更改并推送到远程仓库

## 预览功能说明

内置预览支持以下 Markdown 格式：
- **标题**：# ## ### 
- **粗体**：**文本**
- **斜体**：*文本*
- **代码**：`代码`
- **代码块**：```代码块```
- **链接**：[文本](URL)
- **引用**：> 引用内容

预览会自动应用样式，让你在编辑时就能看到最终效果。

## 文件结构

```
hugo-blog-manager/
├── hugo_manager.py          # 主程序
├── run_hugo_manager.bat     # 启动脚本
├── test_preview.py          # 预览功能测试
├── requirements.txt         # 依赖列表
└── README.md               # 说明文档
```

## 注意事项

1. 确保在 Hugo 博客根目录下运行程序
2. 程序会自动检测 `content/posts/` 目录下的文章
3. 配置文件修改后建议备份
4. 上传功能需要确保 `updateblog.bat` 脚本存在且可执行

## 故障排除

### 预览不显示格式
- 检查 Markdown 语法是否正确
- 确保使用了支持的格式标记

### 上传失败
- 检查 `updateblog.bat` 文件是否存在
- 确保 Git 仓库配置正确
- 检查网络连接

### 文件保存失败
- 检查文件权限
- 确保磁盘空间充足
- 检查文件路径是否正确

## 更新日志

### v2.0
- ✅ 添加内置 Markdown 预览功能
- ✅ 支持多种博客内容管理（文章、配置、静态文件、主题）
- ✅ 改进用户界面，添加模式切换
- ✅ 增强预览格式支持
- ✅ 添加 Markdown 编辑工具栏

### v1.0
- ✅ 基础文章管理功能
- ✅ 外部浏览器预览
- ✅ 上传部署功能
